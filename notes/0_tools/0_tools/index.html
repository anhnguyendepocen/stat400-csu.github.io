<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chapter 0: Some Useful Computing Tools | STAT400: Statistical Computing</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/syllabus/">Syllabus</a></li>
      
      <li><a href="/calendar/">Calendar</a></li>
      
      <li><a href="/homework/">Homework</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Chapter 0: Some Useful Computing Tools</span></h1>


</div>

<main>



<p>We will start the class with some tools that will be useful for success in this class. Going forward, we will use these tools for any <span class="red">computing</span> and <span class="red">data analysis</span> tasks.</p>
<p><br />
<br />
<br /></p>
<div class="figure">
<img src="../images/data_analysis_pipeline.png" alt="" />
<p class="caption">Adapted from R for Data Science, Wickham &amp; Grolemund (2017)</p>
</div>
<p><br />
<br />
<br /></p>
<p>In STAT400, we will cover each part of the data analysis pipeline using</p>
<ol style="list-style-type: decimal">
<li><p>Tools like <code>R</code> and RStudio</p></li>
<li><p>Packages in <code>R</code></p></li>
<li><p>Computational ideas in Statistics (implemented in <code>R</code>)</p></li>
</ol>
<div id="r" class="section level1">
<h1><code>R</code></h1>
<p><code>R</code> (<a href="https://www.r-project.org" class="uri">https://www.r-project.org</a>) is a free, open source software environment for statistical computing and graphics that is available for every major platform.</p>
<p>RStudio (<a href="https://rstudio.com" class="uri">https://rstudio.com</a>) is an integrated development environment (IDE) for <code>R</code>. It is also free, open source, and available for every major platform. It makes data analysis and projects in <code>R</code> go a bit smoother.</p>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>We can use <code>R</code> like an overgrown calculator.</p>
<pre class="r"><code># simple math
5*(10 - 4) + 44</code></pre>
<pre><code>## [1] 74</code></pre>
<pre class="r"><code># integer division
7 %/% 2</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code># modulo operator (Remainder)
7 %% 2</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code># powers
1.5^3</code></pre>
<pre><code>## [1] 3.375</code></pre>
<p><br /></p>
<p>We can use mathematical functions.</p>
<pre class="r"><code># exponentiation
exp(1)</code></pre>
<pre><code>## [1] 2.718282</code></pre>
<pre class="r"><code># logarithms
log(100)</code></pre>
<pre><code>## [1] 4.60517</code></pre>
<pre class="r"><code>log(100, base = 10)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code># trigonometric functions
sin(pi/2)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>cos(pi)</code></pre>
<pre><code>## [1] -1</code></pre>
<pre class="r"><code>asin(1)</code></pre>
<pre><code>## [1] 1.570796</code></pre>
<p><br />
<br /></p>
<p>We can create variables using the assignment operator <code>&lt;-</code>,</p>
<pre class="r"><code># create some variables
x &lt;- 5
class &lt;- 400
hello &lt;- &quot;world&quot;</code></pre>
<p>and then use those variables in our functions.</p>
<pre class="r"><code># functions of variables
log(x)</code></pre>
<pre><code>## [1] 1.609438</code></pre>
<pre class="r"><code>class^2</code></pre>
<pre><code>## [1] 160000</code></pre>
<p>There are some rules for variable naming.</p>
<p>Variable names –</p>
<ol style="list-style-type: decimal">
<li><p>Can’t start with a number.</p></li>
<li><p>Are case-sensitive.</p></li>
<li><p>Can be the name of a predefined internal function or letter in <code>R</code> (e.g., c, q, t, C, D, F, T, I). Try <span class="red">not</span> to use these.</p></li>
<li><p>Cannot be reserved words that <code>R</code> (e.g., for, in, while, if, else, repeat, break, next).</p></li>
</ol>
</div>
<div id="vectors" class="section level2">
<h2>Vectors</h2>
<p>Variables can store more than one value, called a <em>vector</em>. We can create vectors using the combine (<code>c()</code>) function.</p>
<pre class="r"><code># store a vector
y &lt;- c(1, 2, 6, 10, 17)</code></pre>
<p>When we perform functions on our vector, the result is elementwise.</p>
<pre class="r"><code># elementwise function
y/2</code></pre>
<pre><code>## [1] 0.5 1.0 3.0 5.0 8.5</code></pre>
<p>A vector must contain all values of the same type (i.e., numeric, integer, character, etc.).</p>
<p><span class="pagebreak"></span></p>
<p><span class="yourturn"><strong>Your Turn</strong></span></p>
<ol style="list-style-type: decimal">
<li><p>Use the <code>rep()</code> function to construct the following vector: <code>1 1 2 2 3 3 4 4 5 5</code></p></li>
<li><p>Use <code>rep()</code> to construct this vector: <code>1 2 3 4 5 1 2 3 4 5 1 2 3 4 5</code></p></li>
</ol>
<p><span class="pagebreak"></span></p>
<p>We can also make sequences of numbers using either <code>:</code> or <code>seq()</code></p>
<pre class="r"><code># sequences
a &lt;- 1:5
a</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>b &lt;- seq(1, 5, by = 1)
b</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>and we can <strong>extract</strong> values by index.</p>
<pre class="r"><code>a[3]</code></pre>
<pre><code>## [1] 3</code></pre>
<p>Indexing is pretty powerful.</p>
<pre class="r"><code># indexing multiple items
a[c(1, 3, 5)]</code></pre>
<pre><code>## [1] 1 3 5</code></pre>
<pre class="r"><code>a[1:3]</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<p>We can even tell <code>R</code> which elements we don’t want.</p>
<pre class="r"><code>a[-3]</code></pre>
<pre><code>## [1] 1 2 4 5</code></pre>
<p>And we can index by <strong>logical</strong> values. <code>R</code> has logicals built in using <code>TRUE</code> and <code>FALSE</code> (<code>T</code> and <code>F</code> also work, but can be overwritten). Logicals can result from a comparison using</p>
<ul>
<li><code>&lt;</code> : “less than”</li>
<li><code>&gt;</code> : “greater than”</li>
<li><code>&lt;=</code> : “less than or equal to”</li>
<li><code>&gt;=</code> : “greater than or equal to”</li>
<li><code>==</code> : “is equal to”</li>
<li><code>!=</code> : “not equal to”</li>
</ul>
<pre class="r"><code># indexing by vectors of logicals
a[c(TRUE, TRUE, FALSE, FALSE, FALSE)]</code></pre>
<pre><code>## [1] 1 2</code></pre>
<pre class="r"><code># indexing by calculated logicals
a &lt; 3</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>a[a &lt; 3]</code></pre>
<pre><code>## [1] 1 2</code></pre>
<p><span class="pagebreak"></span></p>
<p><span class="yourturn"><strong>Your Turn</strong></span></p>
<ol style="list-style-type: decimal">
<li><p>Create a vector of 1300 values evenly spaced between 1 and 100.</p></li>
<li><p>How many of these values are greater than 791? (Hint: see <code>sum()</code> as a helpful functions.)</p></li>
</ol>
<p><span class="pagebreak"></span></p>
<p>We can combine elementwise logical vectors in the following way:</p>
<ul>
<li><code>&amp;</code> : elementwise AND</li>
<li><code>|</code> : elementwise OR</li>
</ul>
<pre class="r"><code>c(TRUE, TRUE, FALSE) | c(FALSE, TRUE, FALSE)</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<pre class="r"><code>c(TRUE, TRUE, FALSE) &amp; c(FALSE, TRUE, FALSE)</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<p>There are two more useful functions for looking at the start (head) and end (tail) of a vector.</p>
<pre class="r"><code>head(a, 2)</code></pre>
<pre><code>## [1] 1 2</code></pre>
<pre class="r"><code>tail(a, 2)</code></pre>
<pre><code>## [1] 4 5</code></pre>
<p>We can also modify elements in a vector.</p>
<pre class="r"><code>a[1] &lt;- 0
a[c(4, 5)] &lt;- 100
a</code></pre>
<pre><code>## [1]   0   2   3 100 100</code></pre>
<p><span class="pagebreak"></span></p>
<p><span class="yourturn"><strong>Your Turn</strong></span></p>
<p>Using the vector you created of 1300 values evenly spaced between 1 and 100,</p>
<ol style="list-style-type: decimal">
<li><p>Modify the elements greater than 1000 to equal 9999.</p></li>
<li><p>View (not modify) the first 100 values in your vector.</p></li>
</ol>
<p><span class="pagebreak"></span></p>
<p>As mentioned, elements of a vector must all be the same type. So, changing an element of a vector to a different type will result in all elements being converted to the <em>most general</em> type.</p>
<pre class="r"><code>a</code></pre>
<pre><code>## [1]   0   2   3 100 100</code></pre>
<pre class="r"><code>a[1] &lt;- &quot;:-(&quot;
a</code></pre>
<pre><code>## [1] &quot;:-(&quot; &quot;2&quot;   &quot;3&quot;   &quot;100&quot; &quot;100&quot;</code></pre>
<p>By changing a value to a string, all the other values were also changed.</p>
<p>There are many data types in <code>R</code>, numeric, integer, character (i.e., string), Date, and factor being the most common. We can convert between different types using the <code>as</code> series of functions.</p>
<pre class="r"><code>as.character(b)</code></pre>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</code></pre>
<p>There are a whole variety of useful functions to operate on vectors. A couple of the more common ones are <code>length</code>, which returns the length (number of elements) of a vector, and <code>sum</code>, which adds up all the elements of a vector.</p>
<pre class="r"><code>n &lt;- length(b)
n</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>sum_b &lt;- sum(b)
sum_b</code></pre>
<pre><code>## [1] 15</code></pre>
<p>We can then create some statistics!</p>
<pre class="r"><code>mean_b &lt;- sum_b/n
sd_b &lt;- sqrt(sum((b - mean_b)^2)/(n - 1))</code></pre>
<p>But, we don’t have to.</p>
<pre class="r"><code>mean(b)</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>sd(b)</code></pre>
<pre><code>## [1] 1.581139</code></pre>
<pre class="r"><code>summary(b)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       1       2       3       3       4       5</code></pre>
<pre class="r"><code>quantile(b, c(.25, .75))</code></pre>
<pre><code>## 25% 75% 
##   2   4</code></pre>
</div>
<div id="data-frames" class="section level2">
<h2>Data Frames</h2>
<p>Data frames are the data structure you will (probably) use the most in <code>R</code>. You can think of a data frame as any sort of rectangular data. It is easy to conceptualize as a table, where wach column is a vector. Recall, each vector must have the same data type <em>within</em> the vector (column), but columns in a data frame need not be of the same type. Let’s look at an example!</p>
<pre class="r"><code># look at top 6 rows
head(iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<pre class="r"><code># structure of the object
str(iris)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>This is Anderson’s Iris data set (<a href="https://en.wikipedia.org/wiki/Iris_flower_data_set" class="uri">https://en.wikipedia.org/wiki/Iris_flower_data_set</a>), available by default in <code>R</code>.</p>
<p>Some facts about data frames:</p>
<ul>
<li>Structured by rows and columns and can be indexed</li>
<li>Each column is a variable of one type</li>
<li>Column names or locations can be used to index a variable</li>
<li>Advice for naming variables applys to naming columns</li>
<li>Can be specified by grouping vectors of equal length as columns</li>
</ul>
<p>Data frames are indexed (similarly to vectors) with <code>[ ]</code>.</p>
<ul>
<li><code>df[i, j]</code> will select the element of the data frame in the <code>i</code>th row and the <code>j</code>th column.</li>
<li><code>df[i, ]</code> will select the entire <code>i</code>th row as a data frame</li>
<li><code>df[ , j]</code> will select the entire <code>j</code>th column as a vector</li>
</ul>
<p>We can use logicals or vectors to index as well.</p>
<pre class="r"><code>iris[1, ]</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa</code></pre>
<pre class="r"><code>iris[, 1]</code></pre>
<pre><code>##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4
##  [18] 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5
##  [35] 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0
##  [52] 6.4 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8
##  [69] 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4
##  [86] 6.0 6.7 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8
## [103] 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7
## [120] 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7
## [137] 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 6.7 6.3 6.5 6.2 5.9</code></pre>
<pre class="r"><code>iris[1, 1]</code></pre>
<pre><code>## [1] 5.1</code></pre>
<p>We can also select columns by name in two ways.</p>
<pre class="r"><code>iris$Species</code></pre>
<pre><code>##   [1] setosa     setosa     setosa     setosa     setosa     setosa    
##   [7] setosa     setosa     setosa     setosa     setosa     setosa    
##  [13] setosa     setosa     setosa     setosa     setosa     setosa    
##  [19] setosa     setosa     setosa     setosa     setosa     setosa    
##  [25] setosa     setosa     setosa     setosa     setosa     setosa    
##  [31] setosa     setosa     setosa     setosa     setosa     setosa    
##  [37] setosa     setosa     setosa     setosa     setosa     setosa    
##  [43] setosa     setosa     setosa     setosa     setosa     setosa    
##  [49] setosa     setosa     versicolor versicolor versicolor versicolor
##  [55] versicolor versicolor versicolor versicolor versicolor versicolor
##  [61] versicolor versicolor versicolor versicolor versicolor versicolor
##  [67] versicolor versicolor versicolor versicolor versicolor versicolor
##  [73] versicolor versicolor versicolor versicolor versicolor versicolor
##  [79] versicolor versicolor versicolor versicolor versicolor versicolor
##  [85] versicolor versicolor versicolor versicolor versicolor versicolor
##  [91] versicolor versicolor versicolor versicolor versicolor versicolor
##  [97] versicolor versicolor versicolor versicolor virginica  virginica 
## [103] virginica  virginica  virginica  virginica  virginica  virginica 
## [109] virginica  virginica  virginica  virginica  virginica  virginica 
## [115] virginica  virginica  virginica  virginica  virginica  virginica 
## [121] virginica  virginica  virginica  virginica  virginica  virginica 
## [127] virginica  virginica  virginica  virginica  virginica  virginica 
## [133] virginica  virginica  virginica  virginica  virginica  virginica 
## [139] virginica  virginica  virginica  virginica  virginica  virginica 
## [145] virginica  virginica  virginica  virginica  virginica  virginica 
## Levels: setosa versicolor virginica</code></pre>
<pre class="r"><code>iris[, &quot;Species&quot;]</code></pre>
<pre><code>##   [1] setosa     setosa     setosa     setosa     setosa     setosa    
##   [7] setosa     setosa     setosa     setosa     setosa     setosa    
##  [13] setosa     setosa     setosa     setosa     setosa     setosa    
##  [19] setosa     setosa     setosa     setosa     setosa     setosa    
##  [25] setosa     setosa     setosa     setosa     setosa     setosa    
##  [31] setosa     setosa     setosa     setosa     setosa     setosa    
##  [37] setosa     setosa     setosa     setosa     setosa     setosa    
##  [43] setosa     setosa     setosa     setosa     setosa     setosa    
##  [49] setosa     setosa     versicolor versicolor versicolor versicolor
##  [55] versicolor versicolor versicolor versicolor versicolor versicolor
##  [61] versicolor versicolor versicolor versicolor versicolor versicolor
##  [67] versicolor versicolor versicolor versicolor versicolor versicolor
##  [73] versicolor versicolor versicolor versicolor versicolor versicolor
##  [79] versicolor versicolor versicolor versicolor versicolor versicolor
##  [85] versicolor versicolor versicolor versicolor versicolor versicolor
##  [91] versicolor versicolor versicolor versicolor versicolor versicolor
##  [97] versicolor versicolor versicolor versicolor virginica  virginica 
## [103] virginica  virginica  virginica  virginica  virginica  virginica 
## [109] virginica  virginica  virginica  virginica  virginica  virginica 
## [115] virginica  virginica  virginica  virginica  virginica  virginica 
## [121] virginica  virginica  virginica  virginica  virginica  virginica 
## [127] virginica  virginica  virginica  virginica  virginica  virginica 
## [133] virginica  virginica  virginica  virginica  virginica  virginica 
## [139] virginica  virginica  virginica  virginica  virginica  virginica 
## [145] virginica  virginica  virginica  virginica  virginica  virginica 
## Levels: setosa versicolor virginica</code></pre>
<p>To add columns, create a new vector that is the same length as other columns. We can append new column to the data frame using the <code>$</code> operator or the <code>[]</code> operators.</p>
<pre class="r"><code># make a copy of iris
my_iris &lt;- iris

# add a column
my_iris$sepal_len_square &lt;- my_iris$Sepal.Length^2  
head(my_iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
##   sepal_len_square
## 1            26.01
## 2            24.01
## 3            22.09
## 4            21.16
## 5            25.00
## 6            29.16</code></pre>
<p>It’s quite easy to subset a data frame.</p>
<pre class="r"><code>my_iris[my_iris$sepal_len_square &lt; 20, ]</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 9           4.4         2.9          1.4         0.2  setosa
## 14          4.3         3.0          1.1         0.1  setosa
## 39          4.4         3.0          1.3         0.2  setosa
## 43          4.4         3.2          1.3         0.2  setosa
##    sepal_len_square
## 9             19.36
## 14            18.49
## 39            19.36
## 43            19.36</code></pre>
<p>We’ll see another way to do this in Section <a href="#tidyverse"><strong>??</strong></a>.</p>
<p>We can create new data frames using the <code>data.frame()</code> function,</p>
<pre class="r"><code>df &lt;- data.frame(NUMS = 1:5, 
                 lets = letters[1:5],
                 cols = c(&quot;green&quot;, &quot;gold&quot;, &quot;gold&quot;, &quot;gold&quot;, &quot;green&quot;))</code></pre>
<p>and we can change column names using the <code>names()</code> function.</p>
<pre class="r"><code>names(df)</code></pre>
<pre><code>## [1] &quot;NUMS&quot; &quot;lets&quot; &quot;cols&quot;</code></pre>
<pre class="r"><code>names(df)[1] &lt;- &quot;nums&quot;

df</code></pre>
<pre><code>##   nums lets  cols
## 1    1    a green
## 2    2    b  gold
## 3    3    c  gold
## 4    4    d  gold
## 5    5    e green</code></pre>
<p><span class="pagebreak"></span></p>
<p><span class="yourturn"><strong>Your Turn</strong></span></p>
<ol style="list-style-type: decimal">
<li><p>Make a data frame with column 1: <code>1,2,3,4,5,6</code> and column 2: <code>a,b,a,b,a,b</code></p></li>
<li><p>Select only rows with value “a” in column 2 using logical vector</p></li>
<li><p><code>mtcars</code> is a built-in data set like <code>iris</code>: Extract the 4th row of the mtcars data.</p></li>
</ol>
<p><span class="pagebreak"></span></p>
<p>There are other data structures available to you in <code>R</code>, namely lists and matrices. We will not cover these in the notes, but I encourage you to read more about them (<a href="https://faculty.nps.edu/sebuttre/home/R/lists.html" class="uri">https://faculty.nps.edu/sebuttre/home/R/lists.html</a> and <a href="https://faculty.nps.edu/sebuttre/home/R/matrices.html" class="uri">https://faculty.nps.edu/sebuttre/home/R/matrices.html</a>).</p>
</div>
<div id="basic-programming" class="section level2">
<h2>Basic Programming</h2>
<p>We will cover three basic programming ideas: functions, conditionals, and loops.</p>
<div id="functions" class="section level3">
<h3>Functions</h3>
<p>We have used many functions that are already built into <code>R</code> already. For example – <code>exp()</code>, <code>log()</code>, <code>sin()</code>, <code>rep()</code>, <code>seq()</code>, <code>head()</code>, <code>tail()</code>, etc.</p>
<p>But what if we want to use a function that doesn’t exist?</p>
<p><strong>We can write it!</strong></p>
<p>Idea: We want to avoid repetitive coding because errors will creep in.
Solution: Extract common core of the code, wrap it in a function, and make it reusable.</p>
<p>The basic structure for writing a function is as follows:</p>
<ul>
<li>Name</li>
<li>Input arguments (including names and default values)</li>
<li>Body (code)</li>
<li>Output values</li>
</ul>
<pre class="r"><code># we store a function in a named value
# function is itself a function to create functions!
# we specify the inputs that we can use inside the function
# we can specify default values, but it is not necessary
name &lt;- function(input = FALSE) {
  # body code goes here
  
  # return output vaues
  return(input)
}</code></pre>
<p>Here is a more realistic first example:</p>
<pre class="r"><code>my_mean &lt;- function(x) {
  sum(x)/length(x)
}</code></pre>
<p>Let’s test it out.</p>
<pre class="r"><code>my_mean(1:15)</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="r"><code>my_mean(c(1:15, NA))</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Some advice for function writing:</p>
<ol style="list-style-type: decimal">
<li>Start simple, then extend.</li>
<li>Test out each step of the way.</li>
<li>Don’t try too much at once.</li>
</ol>
</div>
<div id="conditionals" class="section level3">
<h3>Conditionals</h3>
<p>Conditionals are functions that control the flow of analysis. Conditionals determine if a specified condition is met (or not), then direct subsequent analysis or action depending on whether the condition is met (or not).</p>
<pre class="r"><code>if(condition) {
  # Some code that runs if condition is TRUE
} else {
  # Some code that runs if condition is TRUE
}</code></pre>
<ul>
<li><code>condition</code> is a length one logical value, i.e. either <code>TRUE</code> or <code>FALSE</code></li>
<li>We can use <code>&amp;</code> and <code>|</code> to combine several conditions</li>
<li><code>!</code> negates condition</li>
</ul>
<p>For example, if we wanted to do something with <code>na.rm</code> from our function,</p>
<pre class="r"><code>if(na.rm) x &lt;- na.omit(x) # na.omit is a function that removes NA values</code></pre>
<p>might be a good option.</p>
</div>
<div id="loops" class="section level3">
<h3>Loops</h3>
<p>Loops (and their cousins the <code>apply()</code> function) are useful when we want to repeat the same block of code many times. Reducing the amount of typing we do can be nice, and if we have a lot of code that is essentially the same we can take advantage of looping. <code>R</code> offers several loops: for, while, repeat.</p>
<p>For loops will run through a specified index and perform a set of code for each value of the indexing variable.</p>
<pre class="r"><code>for(i in index values) {
  # block of code
  # can print values also
  # code in here will most likely depend on i
}</code></pre>
<pre class="r"><code>for(i in 1:3) {
  print(i)
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3</code></pre>
<pre class="r"><code>for(species in unique(iris$Species)) {
  subset_iris &lt;- iris[iris$Species == species,]
  avg &lt;- mean(subset_iris$Sepal.Length)
  print(paste(species, avg))
}</code></pre>
<pre><code>## [1] &quot;setosa 5.006&quot;
## [1] &quot;versicolor 5.936&quot;
## [1] &quot;virginica 6.588&quot;</code></pre>
<p>While loops will run until a specified condition is no longer true.</p>
<pre class="r"><code>condition &lt;- TRUE
while(condition) {
  # do stuff
  # don&#39;t forget to eventually set the condition to false
  # in the toy example below I check if the current seconds is divisible by 5
  time &lt;- Sys.time()
  if(as.numeric(format(time, format = &quot;%S&quot;)) %% 5 == 0) condition &lt;- FALSE
}
print(time)</code></pre>
<pre><code>## [1] &quot;2019-08-24 09:32:05 MDT&quot;</code></pre>
<pre class="r"><code># we can also use while loops to iterate
i &lt;- 1
while (i &lt;= 5) {
    print(i)
    i &lt;- i + 1
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p><span class="pagebreak"></span></p>
<p><span class="yourturn"><strong>Your Turn</strong></span></p>
<ol style="list-style-type: decimal">
<li><p>Alter your <code>my_mean()</code> function to take a second argument (<code>na.rm</code>) with default value <code>FALSE</code> that removes <code>NA</code> values if <code>TRUE</code>.</p></li>
<li><p>Add checks to your function to make sure the input data is either numeric or logical. If it is logical convert it to numeric.</p></li>
<li><p>The diamonds data set is included in the <code>ggplot2</code> package (not by default in <code>R</code>). It can be read into your environment with the following function.</p>
<pre class="r"><code>data(&quot;diamonds&quot;, package = &quot;ggplot2&quot;)</code></pre>
<p>Loop over the columns of the diamonds data set and apply your mean function to all of the numeric columns (Hint: look at the <code>class()</code> function).</p></li>
</ol>
<p><span class="pagebreak"></span></p>
</div>
</div>
<div id="packages" class="section level2">
<h2>Packages</h2>
<p>Commonly used <code>R</code> functions are installed with base <code>R</code>.</p>
<p><code>R</code> packages containing more specialized <code>R</code> functions can be installed freely from CRAN servers using function <code>install.packages()</code>.</p>
<p>After packages are installed, their functions can be loaded into the current <code>R</code> session using the function <code>library()</code>.</p>
<p>Packages are contrbuted by <code>R</code> users just like you!</p>
<p>We will use some great packages in this class. Feel free to venture out and find your favorites (google R package + what you’re trying to do to find more packages).</p>
</div>
<div id="additional-resources" class="section level2">
<h2>Additional resources</h2>
<p>You can get help with <code>R</code> functions within <code>R</code> by using the <code>help()</code> function, or typing <code>?</code> before a function name.</p>
<p>Stackoverflow can be helpful – if you have a question, maybe somebody else has already asked it (<a href="https://stackoverflow.com/questions/tagged/r" class="uri">https://stackoverflow.com/questions/tagged/r</a>).</p>
<p>R Reference Card (<a href="https://cran.r-project.org/doc/contrib/Short-refcard.pdf" class="uri">https://cran.r-project.org/doc/contrib/Short-refcard.pdf</a>)</p>
<p>Useful Cheatsheets (<a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a>)</p>
<p>R for Data Science (<a href="https://r4ds.had.co.nz" class="uri">https://r4ds.had.co.nz</a>)</p>
<p>Advanced R (<a href="https://adv-r.hadley.nz" class="uri">https://adv-r.hadley.nz</a>)</p>
</div>
</div>
<div id="ggplot2" class="section level1">
<h1>ggplot2</h1>
<div id="additional-resources-1" class="section level2">
<h2>Additional resources</h2>
<p>Documentation and cheat sheets (<a href="https://ggplot2.tidyverse.org" class="uri">https://ggplot2.tidyverse.org</a>)</p>
<p>Book website (<a href="http://had.co.nz/ggplot2/" class="uri">http://had.co.nz/ggplot2/</a>)</p>
</div>
</div>
<div id="tidyverse" class="section level1">
<h1>tidyverse</h1>
<div id="readr" class="section level2">
<h2><code>readr</code></h2>
</div>
<div id="dplyr" class="section level2">
<h2><code>dplyr</code></h2>
</div>
<div id="tidyr" class="section level2">
<h2><code>tidyr</code></h2>
</div>
<div id="additional-resources-2" class="section level2">
<h2>Additional resources</h2>
<p><code>readr</code> (<a href="https://readr.tidyverse.org" class="uri">https://readr.tidyverse.org</a>)</p>
<p><code>dplyr</code> (<a href="https://dplyr.tidyverse.org" class="uri">https://dplyr.tidyverse.org</a>)</p>
<p><code>tidyr</code> (<a href="https://tidyr.tidyverse.org" class="uri">https://tidyr.tidyverse.org</a>)</p>
</div>
</div>
<div id="rmarkdown" class="section level1">
<h1>Rmarkdown</h1>
<div id="additional-resources-3" class="section level2">
<h2>Additional resources</h2>
<p>Documentation and cheat sheets (<a href="https://rmarkdown.rstudio.com" class="uri">https://rmarkdown.rstudio.com</a>)</p>
<p>R Markdown: The Definitive Guide (<a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a>)</p>
</div>
</div>

</main>

  <footer>
  <script src="//yihui.name/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>

  
  <hr/>
  <a href="https://canvas.colostate.edu">Canvas</a> | <a href="https://rstudio.cloud">RStudio Cloud</a> | &copy; <a href="https://andeekaplan.com">Andee Kaplan</a> 2019
  
  </footer>
  </body>
</html>

